# Condensed from: protocol_ai_chat_orchestration_latest.yml
# Source: ai_general/docs/30_protocols/protocol_ai_chat_orchestration_latest.yml
# Version: 0.1.0 | Status: stub

ai_chat_orchestration:
  purpose: AI-to-AI conversation protocols (direct UI driving & orchestrated multi-party)

  modes:
    direct_driving:
      description: Desktop Claude controls another AI's web UI
      mechanisms:
        applescript: macOS apps, basic browser (click, type, read_text, window_management)
        puppeteer: Complex web UI (full_dom_access, screenshot, wait_for_element, evaluate_js)
        browser_mcp: MCP-based control (watch context cost of snapshots)
      workflow:
        1: Navigate to target AI web interface
        2: Inject prompt into input field
        3: Submit, wait for response generation
        4: Extract response text
        5: Process response, decide continuation
      challenges:
        - Response detection timing
        - Rate limiting & session management
        - UI changes breaking automation
        - Context window management (both AIs accumulate)

    orchestrated_chat:
      description: Coordinator manages message flow between AI participants
      participants:
        initiator: Starts conversation (Desktop Claude, Human, Scheduled task)
        respondents: AIs that respond (ChatGPT, Gemini, Grok, Claude Web)
        coordinator:
          autonomous: No human approval
          supervised: Human reviews each message
          hybrid: Human approves first N, then autonomous
      message_flow:
        1: Initiator generates -> message_queue/outbound/
        2: Coordinator reviews (approve/edit/redirect/block/inject)
        3: Deliver to respondent via automation
        4: Extract response -> message_queue/inbound/
        5: Coordinator processes (forward/summarize/branch/terminate)
        6: Loop until complete
      directory:
        base: ai_comms/chat_orchestration/
        sessions/: Active conversations
        message_queue/: Pending messages (inbound/outbound)
        transcripts/: Completed logs
        templates/: Prompt templates

  conversation_types:
    peer_review:
      pattern: Claude generates -> ChatGPT critiques -> Claude revises
      use: Code review, doc editing, architectural validation
    research_synthesis:
      pattern: Round-robin or directed questioning
      use: Diverse perspectives, fact-checking
    debate:
      pattern: Thesis -> Antithesis -> Synthesis
      use: Trade-off exploration, stress-testing decisions
    interview:
      pattern: Structured questions with follow-ups
      use: Knowledge extraction, capability probing
    collaborative_creation:
      pattern: Draft -> Feedback -> Revision cycles
      use: Document/code creation, design work

  integration:
    memory_system:
      description: Conversations feed into ai_memories/ pipeline
      actions:
        - Export transcript to 10_exported/
        - Process through standard pipeline
        - Tag with participants and conversation_type
    task_system:
      trigger: When conversation identifies actionable work
      output: Task file in coordination system
    todo_system:
      trigger: When conversation surfaces future work ideas
      output: TODO in ai_general/todos/pending/

  implementation_status:
    direct_driving:
      applescript_chatgpt: working (tested Claude->ChatGPT)
      applescript_gemini: working (tested Claude->Gemini)
      puppeteer: partial (needs response detection refinement)
      browser_mcp: experimental (context cost; prefer file-based snapshot analysis)
    orchestrated_chat:
      basic_framework: conceptual (dir structure & message flow defined)
      coordinator_script: not_started (need message queue processing)
      human_approval_ui: not_started (could be CLI-based or simple web UI)

  todos:
    - Implement chat_orchestrator.py - message queue processing, automation hooks (medium)
    - Define session file schema - what metadata conversation needs (high)
    - Build response detection heuristics - know when target AI finished (high)
    - Create transcript export format - for memory pipeline (medium)
    - Test multi-party 3+ AIs - coordination complexity increases significantly (low)

  related_docs:
    - ai_general/docs/10_architecture/ai_communication_architecture_latest.md
    - ai_general/docs/10_architecture/architecture_overview.md
    - ai_general/docs/30_protocols/protocol_taskCoordination_latest.yml
    - ai_general/docs/60_playbooks/cli_agent_operations.yml

  metadata:
    maintainer: PianoMan
