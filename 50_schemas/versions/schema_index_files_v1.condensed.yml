meta: {slug: schema_index_files_v1, v: 1.2.0, updated: 2025-11-01, canonical: "instructions/index_instructions.yml"}

overview: Canonical YAML structure for index_*.yml manifests describing deployable/reference assets. Authoritative for Codex CLI and automation.

top_level_fields:
  category: {required: yes, type: string, desc: "lowercase, matches dir name", pattern: "^[a-z0-9_]+$"}
  version: {required: yes, type: semver}
  last_updated: {required: yes, type: "ISO-8601 date"}
  maintainer: {required: yes, type: string}
  files: {required: yes, type: list, desc: "ordered file metadata entries"}
  subdirs_deployable: {required: yes, type: boolean}

file_entry:
  name: {required: yes, desc: "filename relative to category root"}
  description: {required: yes, desc: "human-readable synopsis"}
  size_bytes: {required: yes, type: integer}
  estimated_tokens: {required: yes, type: integer}
  status: {required: yes, enum: [active, auxiliary, archived, draft]}
  audience: {required: yes, enum: [all, internal, codex, claude, chatgpt, system]}
  deploy: {required: yes, keys: [claude_desktop, chatgpt, codex, claude_cli, gemini, grok, perplexity]}

status_values:
  active: current, primary use
  auxiliary: supportive, deploy selectively
  archived: retained for history, not deployed
  draft: WIP awaiting promotion

audience_values:
  all: every assistant surface
  internal: maintainers only
  codex: tailored for Codex
  claude: optimized for Claude
  chatgpt: optimized for ChatGPT
  system: machine-generated, never deploy default

validation:
  - estimated_tokens derived from size with consistent multiplier
  - "status=archived → all deploy flags false"
  - "status=active → at least one deploy flag true"
  - files ordered by importance then alphabetically

versions: [{v: 1.2.0, date: 2025-11-01}, {v: 1.1.0, date: 2025-04-12}, {v: 1.0.0, date: 2024-10-05}]
