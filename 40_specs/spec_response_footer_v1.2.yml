version: 1.2.0
last_updated: 2025-12-15
maintainer: PianoMan
status: active
summary: Canonical metadata footer appended to every AI response.
format:
  delimiter: " | "
  order:
    - AI_Name
    - Persona
    - Proj
    - Chat
    - Timestamp
    - Msg
    - Usage
    - Boot
    - Artifacts
    - Tags
  fields:
    - name: AI_Name
      description: Display name for the responding persona.
      example: "Claude"
    - name: Persona
      description: Persona version with optional delta marker (Δ, Δ+, Δ*).
      example: "Persona:v1.0"
    - name: Proj
      description: Short project identifier (CamelCase or hyphenated, no spaces).
      example: "Proj:AI-Root"
    - name: Chat
      description: Human-readable chat title.
      example: "Chat:Manifest-Validation"
    - name: Timestamp
      description: Local timestamp in ISO format with seconds.
      example: "2025-12-15 12:30:00"
    - name: Msg
      description: Zero-indexed assistant message counter for the chat.
      example: "Msg:12"
    - name: Usage
      description: Context usage as approximate percentage (~X%) or NA when not applicable.
      example: "Usage:~28%"
    - name: Boot
      description: Startup checklist completion status. Shows which bootup items were completed.
      symbols:
        M: manifest_valid (manifests validated against filesystem)
        T: tools_loaded (tools_manifest.condensed.yml read)
        D: dirs_loaded (directory_structure_reference read)
        Y: memory_checked (memory manifest read)
        C: context_file (notes_to_myself.md checked)
      format: "Boot:[MTDYC]" where each position is ✓ (done) or - (skipped)
      example: "Boot:[✓✓✓✓✓]"
    - name: Artifacts
      description: Count of artifacts created in this message (files, canvases, etc.).
      example: "Artifacts:1"
    - name: Tags
      description: 2–8 descriptive keywords, comma-separated, kebab-case for multi-word.
      example: "Tags: footer, validation, boot"

rules:
  persona_deltas:
    - marker: "Δ"
      meaning: Minor refinement or parameter adjustment.
    - marker: "Δ+"
      meaning: Significant update or behavioral expansion.
    - marker: "Δ*"
      meaning: Experimental or transient branch.
    - emission_note: Only emit a delta marker in the message that causes or announces the change.
  usage_field:
    - prefer_percentage: Emit `Usage:~X%` when a measurable resource ratio exists.
    - fallback: Emit `Usage:NA` when undefined, unbounded, or irrelevant.
  boot_field:
    - when_to_show: Always show after first message where checklist was run
    - partial_completion: Show which items completed vs skipped
    - skip_reasons: User pre-validated, not first message, file unavailable
  artifacts_field:
    - counting_rule: Count only artifacts created in the current message.
    - typical_items:
        - canvas_document
        - generated_file
        - external_attachment

examples:
  full_boot: "Claude | Persona:v1.0 | Proj:AI-Root | Chat:Manifest-Validation | 2025-12-15 12:30:00 | Msg:5 | Usage:~15% | Boot:[✓✓✓✓✓] | Artifacts:0 | Tags: checklist, validation"
  partial_boot: "Claude | Persona:v1.0 | Proj:AI-Root | Chat:Quick-Question | 2025-12-15 14:00:00 | Msg:1 | Usage:~5% | Boot:[✓✓✓--] | Artifacts:0 | Tags: quick, response"
  no_boot_shown: "Claude | Persona:v1.0 | Proj:AI-Root | Chat:Continued | 2025-12-15 15:00:00 | Msg:15 | Usage:~45% | Artifacts:1 | Tags: continuation"

notes:
  boot_field_optional: Boot field can be omitted after first few messages once checklist established
  backward_compatible: Messages without Boot field remain valid (pre-v1.2 format)

related_docs:
  startup_checklist: ai_general/docs/40_specs/spec_startup_checklist.yml
  validate_script: ai_general/scripts/validate_manifests.py
