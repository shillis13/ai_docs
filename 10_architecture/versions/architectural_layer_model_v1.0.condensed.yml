meta: {v: 1.0.0, status: active, created: 2025-11-16, maintainer: PianoMan}

overview: Multi-layer architecture with distinct purposes - communication/coordination, implementation/runtime, shared knowledge

layers:
  communication:
    dir: ai_comms/
    purpose: coordination between actors
    desc: official interface for task assignment, status, work delivery
    contains: [task status, messages, work products, protocols]
    subdirs:
      Claude/: Desktop mailbox
      Claude Cli/: CLI coordination
      Codex Cli/: Codex tasks
      Chatgpt/: ChatGPT mailbox
    chars: [clean structured, official handoffs, protocol-driven]
    workflow: to_execute/ → in_progress/ → completed/

  implementation:
    dir: ai_claude/
    purpose: config, runtime state, working dirs
    desc: actor-specific implementation, private workspace
    contains: [persona config, instructions, working dirs, runtime state, drafts, skills]
    subdirs:
      Persona Model/: two-loop config
      Instructions/: operating instructions
      Working Tasks/: active work (runtime)
      Ai Specific Memories/: learned patterns (config)
    chars: [messy iterative, private, config AND runtime]
    distinction: ai_specific_memories=config, working_tasks/=runtime

  knowledge:
    dir: ai_memories/
    purpose: shared knowledge, collective learning
    desc: repository accessible to all actors
    contains: [chat histories, digests, decisions, TODOs, research]
    subdirs:
      00 Incoming Chats/: raw exports
      10 Exported/: by platform
      30 Chat Histories/: processed
      40 Digests/: extracted knowledge
    chars: [shared across actors, curated artifacts]

todo_vs_task:
  todos: {loc: ai_general/todos/, purpose: backlog/ideas, chars: [not actionable, requires curation, shared]}
  tasks: {loc: ai_comms/{actor}/tasks/, purpose: assigned work, chars: [ready to execute, clear criteria, actor-specific]}

task_lifecycle:
  1_assign: {layer: communication, loc: to_execute/, state: official assignment}
  2_claim: {layer: communication, loc: in_progress/, state: started}
  3_work: {layer: implementation, loc: working_tasks/, state: "drafts, experiments"}
  4_deliver: {layer: communication, loc: completed/, state: COMPLETED}
  5_knowledge: {layer: knowledge, loc: 40_digests/, state: shared}
  6_cleanup: {layer: implementation, action: archive working dir}

principles:
  - separation: each layer handles distinct concern, changes independently
  - boundaries: status→ai_comms, work→ai_claude, knowledge→ai_memories
  - actor_agnostic: same patterns for Desktop/CLI/ChatGPT/Codex
  - natural: new use cases find logical homes

cross_refs: [ai_root_summary, coordination_system_v4_digest, instr_file_conventions]
