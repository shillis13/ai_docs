meta: {v: 1.0.0, created: 2025-12-19, source: Claude-Gemini_How_to_Update_Docs.md, status: validated}

summary: End-to-end workflow for creating/updating docs in ai_root - naming, versioning, symlinks, cross-refs

meta_lesson:
  problem: created without consulting existing examples
  lesson: "BEFORE creating: 1) find examples ls docs/{type}/, 2) read one, 3) check schema, 4) THEN create"

naming:
  pattern: "{type}.{slug}.{version}.{variant?}.{ext}"
  separators: {dot: field separator, underscore: word separator}
  fields: {type: "playbook|schema|protocol|spec|instr", slug: descriptive_name, version: "v1_0 (underscore not dot)", variant: condensed, ext: "md|yml"}
  examples: ["playbook.gemini_canvas.v1_1.md", "playbook.gemini_canvas.v1_1.condensed.yml"]

structure: |
  {doc_type}/
  ├── versions/
  │   ├── {type}.{slug}.v1_0.md
  │   └── {type}.{slug}.v1_0.condensed.yml
  ├── {type}.{slug}.latest.md → versions/...
  └── {type}.{slug}.latest.condensed.yml → versions/...

workflow:
  1_check: "ls + cat existing examples. Never create without understanding patterns"
  2_canonical: "versions/{type}.{slug}.v{X_Y}.md with metadata, ASCII tables"
  3_condensed: "versions/{type}.{slug}.v{X_Y}.condensed.yml, 60-80% reduction"
  4_symlinks: "ln -sf versions/... {type}.{slug}.latest.*"
  5_references: [glossary_knowledge_index, _knowledge_manifest, document_registry]
  6_verify: [canonical exists, condensed exists, symlinks correct, refs updated]

issues:
  - {issue: created without checking, fix: read examples first}
  - {issue: symlink naming inconsistent, fix: both use .latest.}
  - {issue: version dot in filename, fix: use underscore v1_0}
  - {issue: version mismatch, fix: sync filename and metadata}

migration:
  old: "playbook_gemini_canvas_automation_v1.0.md"
  new: "playbook.gemini_canvas_automation.v1_0.md"
  steps: [move to versions/ with new name, create condensed, create symlinks, update refs, remove old]
